# 長期デバッグAgent Teamを起動するスキル

構造化された長期アプローチで photoshop-app のバグ調査・修正を行うAgent Teamを起動する。
スカウト偵察→仮説立案→並列検証→修正→テストの段階的ワークフロー。

## 引数
$ARGUMENTS にバグの概要、該当パッケージ、エラー内容等が渡される。空の場合はユーザーにバグの詳細を確認する。

## 手順
`.claude/agents/debug-fix.md` に定義されたワークフローに従って実行する。

1. リーダーがバグ受付票を作成（ユーザーから情報収集、チケットIDの確認）
2. スカウト (A) がコード変更なしでバグの偵察・影響範囲マッピング（パッケージ横断で追跡）
3. 仮説エージェント (B) が原因仮説を2-4個立案・優先順位付け
4. 検証エージェント (C1-C3) を Task tool で並列起動し、各仮説を独立検証
5. 修正エージェント (D) が確定原因に基づき最小限の修正を実装（ユーザー承認後）
6. テストエージェント (E) が回帰テスト作成 + `pnpm lint` / `pnpm test` / `pnpm build` 全PASS確認
7. リーダーが `debug-log.md` に記録し、最終レポートを報告

## プロジェクト固有ルール
- **パッケージ境界厳守**: 修正は該当パッケージ内のみ
- **`types` パッケージ変更不可**: 型変更が必要な場合はユーザーに報告
- **`any` 禁止**: `unknown` + 型ガードを使う
- **検証コマンド**: `pnpm lint && pnpm test && pnpm build` が全てPASS必須
- Phase 1で原因が明白な場合はPhase 2-3をスキップ可能
- 全仮説が否定された場合はPhase 1に戻り深堀り
- 3回同じ修正が失敗したらフレームを変えて再アプローチ
